# MD Viewer 测试检查清单

> 每次发版前复制此文件，逐项检查并勾选。

**测试日期**：_____________  
**测试人员**：_____________  
**版本号**：_____________  
**浏览器**：_____________  

---

## Standalone 模式 - 基础功能

- [ ] **TC-S001** 页面正确加载，标题显示正常
- [ ] **TC-S002** 首次加载显示欢迎页面
- [ ] **TC-S003** "打开文件夹"按钮可见且可点击
- [ ] **TC-S004** Chrome/Edge 支持 File System Access API
- [ ] **TC-S005** Firefox/Safari 显示不支持警告
- [ ] **TC-S006** 工具栏所有按钮正常显示
- [ ] **TC-S007** 侧边栏可以收起/展开

## Standalone 模式 - 文件操作

- [ ] 点击"打开文件夹"能弹出系统文件夹选择器
- [ ] 选择文件夹后正确显示 .md 文件列表
- [ ] 文件夹嵌套结构正确展示
- [ ] 点击文件能加载并显示内容
- [ ] 刷新按钮能重新扫描目录
- [ ] 展开/收起所有文件夹功能正常
- [ ] 文件搜索能正确过滤

## Standalone 模式 - 文件夹记忆

- [ ] 关闭浏览器后重新打开，能记住上次文件夹
- [ ] 权限过期时提示重新授权
- [ ] 最近文件夹列表正确显示（最多10个）
- [ ] 点击最近文件夹能快速切换
- [ ] 删除最近文件夹记录功能正常

## Standalone 模式 - 视图切换

- [ ] **TC-S010** 默认为分屏模式
- [ ] **TC-S011** 切换到查看模式，编辑器隐藏
- [ ] **TC-S012** 切换回分屏模式，两侧都显示
- [ ] **TC-S013** 视图模式刷新后保持

## Standalone 模式 - 主题

- [ ] **TC-S020** 点击主题按钮切换深色/浅色
- [ ] **TC-S021** 主题刷新后保持
- [ ] **TC-S022** 主题按钮图标正确变化
- [ ] Mermaid 图表主题跟随切换

## Standalone 模式 - 编辑器

- [ ] **TC-E001** 编辑器可以输入文本
- [ ] **TC-E002** 输入后预览实时更新
- [ ] **TC-E003** 标题 H1-H6 渲染正确
- [ ] **TC-E004** 有序/无序列表渲染正确
- [ ] **TC-E005** 代码块带语法高亮
- [ ] **TC-E006** 表格渲染正确
- [ ] **TC-E007** 任务列表复选框显示
- [ ] **TC-E008** 链接渲染正确
- [ ] **TC-E009** 图片渲染正确
- [ ] **TC-E010** 粗体/斜体/删除线渲染正确

## Standalone 模式 - 分屏拖拽

- [ ] **TC-E020** 分隔条可见
- [ ] **TC-E021** 拖拽分隔条调整比例
- [ ] **TC-E022** 有最小/最大比例限制
- [ ] **TC-E023** 比例刷新后保持

## Standalone 模式 - 保存功能

- [ ] 编辑后标题栏显示未保存标记 (*)
- [ ] Ctrl+S 保存文件
- [ ] 保存按钮功能正常
- [ ] 保存成功显示提示
- [ ] 关闭/切换文件时提示未保存

## Standalone 模式 - Mermaid 图表

- [ ] **TC-M001** 流程图正确渲染
- [ ] **TC-M002** 序列图正确渲染
- [ ] **TC-M003** 类图正确渲染
- [ ] **TC-M004** 状态图正确渲染
- [ ] **TC-M005** 甘特图正确渲染
- [ ] **TC-M006** 饼图正确渲染
- [ ] **TC-M007** 多个图表都能渲染
- [ ] **TC-M008** 错误语法不会崩溃

## Standalone 模式 - 图表缩放

- [ ] **TC-M010** 双击图表打开缩放模态框
- [ ] **TC-M011** 模态框显示完整图表
- [ ] **TC-M012** X 按钮关闭模态框
- [ ] **TC-M013** ESC 键关闭模态框
- [ ] **TC-M014** 点击背景关闭模态框
- [ ] **TC-M015** + 按钮放大
- [ ] **TC-M016** - 按钮缩小
- [ ] **TC-M017** 重置按钮恢复默认
- [ ] **TC-M018** 键盘 +/- 控制缩放
- [ ] **TC-M019** 鼠标滚轮控制缩放
- [ ] 拖拽平移图表

## Standalone 模式 - KaTeX 数学公式

- [ ] **TC-K001** 行内公式 $...$ 渲染
- [ ] **TC-K002** 块级公式 $$...$$ 渲染
- [ ] **TC-K003** 分数渲染正确
- [ ] **TC-K004** 求和符号渲染正确
- [ ] **TC-K005** 矩阵渲染正确
- [ ] **TC-K006** 希腊字母渲染正确
- [ ] **TC-K007** 错误语法不会崩溃
- [ ] **TC-K008** 多个公式都能渲染

## Standalone 模式 - TOC 目录

- [ ] **TC-T001** TOC 按钮可见
- [ ] **TC-T002** 点击打开目录面板
- [ ] **TC-T003** 标题正确提取到目录
- [ ] **TC-T004** 点击目录项滚动到位置
- [ ] **TC-T005** 关闭目录面板
- [ ] 滚动时目录高亮跟随

## Standalone 模式 - 全局搜索

- [ ] **TC-S030** 搜索按钮可见
- [ ] **TC-S031** 点击打开搜索面板
- [ ] **TC-S032** Ctrl+F 打开搜索
- [ ] **TC-S033** 可以输入搜索词
- [ ] **TC-S034** ESC 关闭搜索面板
- [ ] **TC-S035** 搜索显示结果列表
- [ ] 点击结果跳转到对应位置

## Standalone 模式 - 编码

- [ ] **TC-EN001** 编码选择器可见
- [ ] **TC-EN002** 包含 UTF-8/GBK/GB2312 等选项
- [ ] **TC-EN003** 默认 UTF-8
- [ ] **TC-EN004** 可以切换编码
- [ ] GBK 编码文件正确显示
- [ ] Big5 编码文件正确显示

---

## Server 模式 - 基础功能

- [ ] **TC-SV001** 页面正确加载
- [ ] **TC-SV002** 文件树显示
- [ ] **TC-SV003** 文件树包含 .md 文件
- [ ] **TC-SV004** 点击文件加载内容
- [ ] **TC-SV005** 工具栏按钮正常
- [ ] **TC-SV006** 刷新按钮可用

## Server 模式 - 视图切换

- [ ] **TC-SV010** 编辑模式
- [ ] **TC-SV011** 分屏模式
- [ ] **TC-SV012** 查看模式

## Server 模式 - 文件操作

- [ ] 新建文件功能正常
- [ ] 保存文件功能正常
- [ ] 删除文件有确认提示
- [ ] 删除后文件列表更新

## Server API 测试

- [ ] **TC-API001** GET /api/files 返回列表
- [ ] **TC-API010** GET /api/file 返回内容
- [ ] **TC-API011** 不存在的文件返回 404
- [ ] **TC-API020** POST /api/file 保存成功
- [ ] **TC-API030** POST /api/file/create 创建成功
- [ ] **TC-API040** DELETE /api/file 删除成功
- [ ] **TC-API050** 路径遍历攻击被阻止
- [ ] **TC-API051** 绝对路径被阻止

---

## 边界测试

- [ ] 空文件夹处理
- [ ] 超大文件 (>1MB) 加载
- [ ] 深层嵌套文件夹 (>5层)
- [ ] 特殊字符文件名 (空格、中文、emoji)
- [ ] 同时打开多个浏览器标签
- [ ] 网络断开后的 Server 模式行为

## 性能测试

- [ ] 页面首次加载时间 < 3秒
- [ ] 大文件渲染时间 < 5秒
- [ ] 复杂 Mermaid 图表渲染 < 3秒
- [ ] 编辑器输入无明显延迟

---

## 测试结果汇总

| 类别 | 通过 | 失败 | 跳过 |
|------|------|------|------|
| Standalone 基础 | | | |
| Standalone 文件 | | | |
| Standalone 编辑器 | | | |
| Standalone Mermaid | | | |
| Standalone 缩放 | | | |
| Standalone KaTeX | | | |
| Standalone TOC | | | |
| Standalone 搜索 | | | |
| Server 基础 | | | |
| Server API | | | |
| 边界测试 | | | |
| **总计** | | | |

## 发现的问题

| 编号 | 测试用例 | 问题描述 | 严重程度 |
|------|----------|----------|----------|
| 1 | | | |
| 2 | | | |
| 3 | | | |

## 测试结论

- [ ] 通过，可以发布
- [ ] 有阻塞问题，需要修复后重测
- [ ] 有非阻塞问题，可以发布但需跟进

**备注**：

---

_测试完成时间_：_____________
